#	OS Lab3 Report
岳士超
2012011295

--------


## 练习1

1. **给未被映射的地址映射上物理页**
> 首先查找是否有该虚拟地址所对应的PTE项，如果没有则新建一个。  
> 新建的PTE项是空的，那么需要给它赋值。首先需要新alloc一个物理的page，并建立映射关系
> 
> 

2. **请描述页目录项（Pag Director Entry）和页表（Page Table Entry）中组成部分对ucore实现页替换算法的潜在用处。**
> 问题与答案同Lab2

3. **如果ucore的缺页服务例程在执行过程中访问内存，出现了页访问异常，请问硬件要做哪些事情？**
> 如果ucore的缺页服务例程在执行过程中缺页了，首先我不清楚什么时候会出现页访问异常，这段代码是不可以被放置到硬盘中的，如果丢失了，系统会崩溃

## 练习2
1. **补充完成基于FIFO的页面替换算法**
> 1. ``_fifo_map_swappable``
> > 将新的entry插入到head的前面
> 
> 1. ``_fifo_swap_out_victim``
> > 从head后面取出第一个entry，这个entry是最先进入的  
> > 即victim
> 
> 1. ``do_pgfault``
> > 检查该page是不是可以被swap，如果可以的话从硬盘中读入相应的页，并把相应的映射关系建立好。


2. **如果要在ucore上实现"extended clock页替换算法"请给你的设计方案，现有的swap_manager框架是否足以支持在ucore中实现此算法？如果是，请给你的设计方案。如果不是，请给出你的新的扩展和基此扩展的设计方案。并需要回答如下问题**
> 可以的
> 
> 1. 需要被换出的页的特征是什么？
> > 未被修改过且最先进入的页。如果不存在这样的页，则选最先进入的页
> 
> 1. 在ucore中如何判断具有这样特征的页？
> > 增加标志符表明该页是否被修改过。
> 
> 1. 何时进行换入和换出操作？
> > 当其他进程申请新的页且当前可用内存或分配的内存已满的时候需要进行换出操作。如果当前进程需要访问的页不在内存中，可能同时需要换入和换出操作。
